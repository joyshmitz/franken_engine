[
  {
    "id": "bd-2mds",
    "title": "Epic: Parser Frontier Program (active)",
    "description": "## Scope (active):\nParser Frontier Program for FrankenEngine native execution roadmap.\n\n## Context:\nThis epic previously duplicated the title of closed hardening epic `bd-1rf0`. Naming conflict resolved:\n- `bd-1rf0` = historical asupersync/engine-hardening closure record\n- `bd-2mds` = active parser-frontier execution epic\n\n## Program objective:\nDeliver a correctness-first, deterministic, high-performance native parser stack with strict phase promotion.\n\n## Strict execution queue (ready-ordered, dependency-enforced):\n1. `bd-3spt` — Phase 0 grammar/semantic completeness scalar baseline\n2. `bd-1b70` — parser oracle/metamorphic proof gate\n3. `bd-drjd` — Phase 1 arena allocation/storage optimization\n4. `bd-19ba` — Phase 2 SIMD/SWAR lexer optimization\n5. `bd-1vfi` — Phase 3 structured-concurrency parallel parser\n6. `bd-3rjg` — Phase 3.5 interference/determinism gate\n7. `bd-1gfn` — Phase 4 Bayesian error-recovery controller\n\n## Dependency chain (single-lane strict):\n`bd-3spt -> bd-1b70 -> bd-drjd -> bd-19ba -> bd-1vfi -> bd-3rjg -> bd-1gfn`\n\n## Integration links (already wired):\n- `bd-ntq` blocks on `bd-1gfn`\n- `bd-1csl` blocks on `bd-1gfn`\n\n## Assignee recommendations (by prior repo work patterns):\n- `bd-3spt`: **SilentStream** (parser/AST deterministic foundations)\n- `bd-1b70`: **GoldHeron** (pipeline/test/proof artifact rigor)\n- `bd-drjd`: **SilentStream** (parser data-structure internals)\n- `bd-19ba`: **PearlTower** (runtime-performance implementation discipline)\n- `bd-1vfi`: **PearlTower** (execution-lane + concurrency familiarity)\n- `bd-3rjg`: **GoldHeron** (determinism/interference verification harnesses)\n- `bd-1gfn`: **PearlTower** (decision-controller + safety fallback mechanics)\n\n## Non-negotiable constraints:\n- Deterministic replay invariants preserved at every phase\n- No promotion without complete reproducibility artifacts\n- No adaptive/parallel phase promotion without explicit safe fallback\n- Full recommendation-contract fields required for all phase beads\n\n## Delivery governance:\n- Every child bead must include rollback semantics\n- Every child bead must include interference status and demo/claim linkage\n- Promotion controlled by parser oracle + interference gate outcomes\n\n## Exit criteria:\n- Parser chain remains integrated in VM/Phase-A graph\n- All queue beads remain dependency-ordered and contract-complete\n- `bv --robot-*` and `br dep cycles` remain clean\n\n## Plan-space optimization addendum (user-outcome focused):\n- Keep strict promotion order for safety, but allow implementation prework in downstream phases behind non-promotable feature flags.\n- Separate \"implementation complete\" from \"promotion eligible\" in evidence artifacts so teams can parallelize without risking premature enablement.\n- Require user-facing diagnostics for every gate failure (human-readable summary + exact replay command), not only machine evidence blobs.\n\n## Mandatory cross-phase test/evidence matrix:\nFor every open child bead (`bd-1b70`, `bd-drjd`, `bd-19ba`, `bd-1vfi`, `bd-3rjg`, `bd-1gfn`), require all of:\n1. Comprehensive unit tests (logic boundaries, invariant checks, failure edges).\n2. Deterministic integration tests (component composition, fallback paths, budget exhaustion).\n3. Deterministic e2e scripts under `scripts/e2e/` for:\n   - normal behavior\n   - boundary behavior\n   - failure behavior\n   - adversarial behavior\n4. Structured log assertions with mandatory fields:\n   - `trace_id`, `run_id`, `seed`, `input_hash`, `parser_mode`, `phase`, `decision_id`, `policy_id`, `component`, `event`, `outcome`, `error_code`, `latency_us`, `memory_bytes`, `fallback_reason`\n5. Operator-readable run report (`summary.md`) plus machine-readable evidence (`*.jsonl`, `manifest.json`, `env.json`, `repro.lock`).\n\n## Granular TODO ledger (program-level):\n1. Define per-phase test matrix templates with explicit fixture/fuzz seed budgets.\n2. Define canonical log schema shared across all parser phases.\n3. Define e2e script naming/layout conventions and replay command envelope.\n4. Enforce report-only then fail-closed promotion policy for new gates.\n5. Enforce artifact completeness validation as a hard CI requirement.\n6. Enforce rollback drill tests for each phase before promotion.\n7. Add per-phase operator diagnostics quality checks (clarity + actionability).\n8. Keep dependency graph acyclic and promotion queue unchanged unless explicit rationale is recorded.\n9. Track and publish user-impact metrics: parse success quality, determinism stability, and failure explainability.\n10. Require cross-phase composition checks before enabling multi-optimization defaults.\n\n## Integration hardening update:\n- Added direct gating edges to prevent accidental bypass if downstream scopes change:\n  - `bd-ntq` now also blocks on `bd-1b70` and `bd-3rjg`\n  - `bd-1csl` now also blocks on `bd-1b70` and `bd-3rjg`\n- This preserves strict parser-frontier requirements even if later bead refactors alter transitive chains.\n\n## Refinement pass 2: determinism + operator UX hardening\n\n### Deterministic environment contract (all child phases):\n- Pin `TZ=UTC`, `LANG=C.UTF-8`, `LC_ALL=C.UTF-8` for gate runs.\n- Capture rustc/cargo versions and target triple in every manifest.\n- Record CPU feature flags and parser mode feature toggles in evidence.\n- Freeze seed derivation inputs and emit seed transcript checksums.\n- Require stable corpus traversal order and canonical file normalization.\n\n### Operator-experience SLOs (promotion blockers):\n- Every failing gate run must include exactly one copy-paste replay command.\n- Failure summary must identify top 3 divergences with severity and ownership hint.\n- Time-to-first-diagnosis target <= 5 minutes from artifact open to likely root-cause class.\n- All critical failures must include remediation checklist and rollback command.\n\n### Test harness hygiene contract:\n- Add hermetic mode for parser e2e scripts (no network, fixed env, fixed seeds).\n- Add flaky-test detector for repeated seeded reruns.\n- Require machine-readable and human-readable outputs for each script.\n- Require explicit `schema_version` on all structured evidence/log formats.\n\n### Program TODO extensions:\n11. Define deterministic environment bootstrap wrapper for all parser e2e scripts.\n12. Define logging/evidence schema versioning policy and compatibility checks.\n13. Add operator triage SLO checks to gate acceptance.\n14. Add flaky-detection rerun policy with deterministic seed windows.\n15. Add per-phase failure-code taxonomy mapping to remediation playbooks.\n\n## Integration links correction (authoritative):\n- `bd-ntq` blocks on `bd-1b70`, `bd-3rjg`, `bd-1gfn`, and `bd-2mds` closure guard.\n- `bd-1csl` blocks on `bd-1b70`, `bd-3rjg`, `bd-1gfn`, and `bd-2mds` closure guard.",
    "acceptance_criteria": "1. Strict promotion queue (bd-3spt -> bd-1b70 -> bd-drjd -> bd-19ba -> bd-1vfi -> bd-3rjg -> bd-1gfn) remains enforced for production enablement.\n2. Each open child bead contains a granular TODO checklist covering implementation, tests, artifacts, rollback, and operator diagnostics.\n3. Each open child bead requires comprehensive unit tests and deterministic integration plus end-to-end scripts for normal, boundary, failure, and adversarial paths.\n4. Structured logs are asserted in tests with stable fields: schema_version, trace_id, run_id, seed, input_hash, parser_mode, phase, decision_id, policy_id, component, event, outcome, error_code, latency_us, memory_bytes, fallback_reason.\n5. Deterministic environment controls (timezone, locale, toolchain metadata, seed transcript checksums, corpus order) are captured and validated for every gate run.\n6. Every promotion attempt publishes a reproducibility bundle (manifest.json, env.json, repro.lock, evidence JSONL, operator summary) and exact replay commands.\n7. New gates roll out in report-only mode before fail-closed mode, with explicit transition criteria captured in artifacts.\n8. Rollback drills are test-covered and required before any default-mode promotion.\n9. Operator-experience SLOs for failure triage are measured and enforced on gate runs.\n10. Scope and capability intent are preserved fully; no silent feature or functionality reduction is allowed.",
    "notes": "Started bd-2mds execution with non-overlapping parser-frontier hygiene slice. Added deterministic env bootstrap helper (scripts/e2e/parser_deterministic_env.sh), wired parser phase1 e2e wrappers + run_parser_phase1_arena_suite manifest fields, and documented contract in docs/PARSER_FRONTIER_ENV_CONTRACT.md. Validation run via rch-only heavy path: PARSER_PHASE1_ARENA_SCENARIO=smoke ./scripts/run_parser_phase1_arena_suite.sh check -> pass artifact at artifacts/parser_phase1_arena/20260224T080605Z/run_manifest.json.",
    "status": "in_progress",
    "priority": 0,
    "issue_type": "epic",
    "assignee": "HazyGate",
    "created_at": "2026-02-24T00:06:11.202051885Z",
    "created_by": "ubuntu",
    "updated_at": "2026-02-24T08:08:31.959575016Z",
    "source_repo": ".",
    "compaction_level": 0,
    "original_size": 0,
    "dependents": [
      {
        "id": "bd-1b70",
        "title": "[PARSER-ORACLE] Semantic equivalence + metamorphic proof gate",
        "status": "in_progress",
        "priority": 0,
        "dependency_type": "parent-child"
      },
      {
        "id": "bd-3spt",
        "title": "[PARSER-PHASE-0] ES2020 grammar + semantic completeness scalar baseline",
        "status": "closed",
        "priority": 0,
        "dependency_type": "parent-child"
      },
      {
        "id": "bd-ntq",
        "title": "[10.2] VM Core - Comprehensive Execution Epic",
        "status": "open",
        "priority": 0,
        "dependency_type": "blocks"
      },
      {
        "id": "bd-3rjg",
        "title": "[PARSER-PHASE-3.5] Parallel parsing interference + determinism gate",
        "status": "open",
        "priority": 1,
        "dependency_type": "parent-child"
      },
      {
        "id": "bd-1gfn",
        "title": "[PARSER-PHASE-4] Mathematical Error Recovery (Bayesian Diagnostics)",
        "status": "open",
        "priority": 1,
        "dependency_type": "parent-child"
      },
      {
        "id": "bd-1vfi",
        "title": "[PARSER-PHASE-3] Parallel Parsing via asupersync Structured Concurrency",
        "status": "open",
        "priority": 1,
        "dependency_type": "parent-child"
      },
      {
        "id": "bd-19ba",
        "title": "[PARSER-PHASE-2] SIMD-Accelerated Lexical Analysis (SWAR)",
        "status": "open",
        "priority": 1,
        "dependency_type": "parent-child"
      },
      {
        "id": "bd-drjd",
        "title": "[PARSER-PHASE-1] Arena-Allocated Cache-Oblivious AST and Token Definitions",
        "status": "in_progress",
        "priority": 1,
        "dependency_type": "parent-child"
      },
      {
        "id": "bd-1csl",
        "title": "[PHASE-A] Native VM Substrate Exit Gate",
        "status": "open",
        "priority": 1,
        "dependency_type": "blocks"
      }
    ]
  }
]
